<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Clipboard API Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 30px; }
        button { margin: 5px; padding: 10px 15px; }
        #log { margin-top: 20px; white-space: pre-line; background: #f4f4f4; padding: 10px; }
    </style>
</head>
<body>

<h2>Clipboard API Test Page</h2>

<input id="textInput" type="text" placeholder="ë³µì‚¬í•  í…ìŠ¤íŠ¸ ì…ë ¥" style="width: 300px; padding: 5px;">
<br /><br />

<button onclick="copyText()">ğŸ“‹ í…ìŠ¤íŠ¸ ë³µì‚¬í•˜ê¸°</button>
<button onclick="pasteText()">ğŸ“¥ í´ë¦½ë³´ë“œì—ì„œ ë¶™ì—¬ë„£ê¸°</button>
<button onclick="checkPermissions()">ğŸ” ê¶Œí•œ í™•ì¸í•˜ê¸°</button>

<div id="log"></div>

<script>
    function log(msg) {
        const box = document.getElementById("log");
        box.textContent += msg + "\n";
    }

    // í…ìŠ¤íŠ¸ ë³µì‚¬
    function copyText() {
        const text = document.getElementById("textInput").value;

        navigator.clipboard.writeText(text)
            .then(() => log(`âœ” ë³µì‚¬ë¨: "${text}"`))
            .catch(err => log(`âŒ ë³µì‚¬ ì‹¤íŒ¨: ${err}`));
    }

    // í…ìŠ¤íŠ¸ ë¶™ì—¬ë„£ê¸° (ì‚¬ìš©ì ì´ë²¤íŠ¸ í•„ìš”)
    function pasteText() {
        navigator.clipboard.readText()
            .then(text => log(`ğŸ“¥ ë¶™ì—¬ë„£ê¸° ê²°ê³¼: "${text}"`))
            .catch(err => log(`âŒ ë¶™ì—¬ë„£ê¸° ì‹¤íŒ¨: ${err}`));
    }

    // ê¶Œí•œ í™•ì¸ API
    async function checkPermissions() {
        try {
            const readPerm = await navigator.permissions.query({ name: "clipboard-read" });
            const writePerm = await navigator.permissions.query({ name: "clipboard-write" });

            log(`ğŸ” clipboard-read ê¶Œí•œ ìƒíƒœ: ${readPerm.state}`);
            log(`ğŸ” clipboard-write ê¶Œí•œ ìƒíƒœ: ${writePerm.state}`);
        } catch (e) {
            log(`âŒ Permissions API ì˜¤ë¥˜: ${e}`);
        }
    }
</script>

</body>
</html>

