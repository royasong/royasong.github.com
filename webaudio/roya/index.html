<!DOCTYPE html>
<html>
<head>
<title>HTML Tutorial</title>
<script>var audio = document.getElementById("audio-source");
var audioCtx = new (window.AudioContext || window.webkitAudioContext)();
var source = audioCtx.createMediaElementSource(audio);
var gainNode = audioCtx.createGain();

var gainConnected = source.connect(gainNode);
gainConnected.connect(audioCtx.destination);

function play() {
    if (audio.paused) {
        audio.play()
        
    }
    else {
        audio.pause()
    }
}

function volumeUp() {
    
    if (gainNode.gain.value > 2) {
        gainNode.gain.value = 2
        console.log("vol up = 2")
    }
    else {
        gainNode.gain.value += 0.2
        console.log("vol up += 0.2")
    }
}

function volumeDown() {
    
    if (gainNode.gain.value < 0) {
        gainNode.gain.value = 0
    }
    else {
        gainNode.gain.value -= 0.2 
    }
}
</script>
</head>
<body>

<audio controls>
  
  <source id="audio-source" src="https://royasong.github.io/webaudio/roya/outfoxing.mp3" type="audio/mpeg">
Your browser does not support the audio element.
</audio>
<button type="button" id="play" onclick="play()">재생</button>
<button type="button" id="up" onclick="volumeDown()">볼륨 다운</button>
<button type="button" id="down" onclick="volumeUp()">볼륨 업</button>

</body>
</html>

